!function(e,t){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone"],t):"object"==typeof module&&module.exports?(module.exports=t(require("jquery")),module.exports=t(require("underscore")),module.exports=t(require("backbone"))):(e.$=window.$,e._=window._,e.Backbone=window.Backbone)}(this,function(e,t,n){return n.Model.extend({defaults:{userData:"",loginStatus:""},checkLoginState:function(){var e=this;FB.getLoginStatus(function(t){"connected"===t.status?e.set({loginStatus:"logged",userData:t}):this.set("not_authorized"===t.status?{logged:"not_authorized"}:{logged:"not-logged"})})},loadSDK:function(){!function(e,t,n){var o,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk")},initSDK:function(e){FB.init({appId:e.appId,cookie:e.cookie||!0,xfbml:e.xfbml||!0,version:"v2.2"})},login:function(e){var t=this;FB.login(function(e){t.checkLoginState()},{})},logout:function(){var e=this;FB.logout(function(t){e.set({loginStatus:"not-logged"})})},getUserData:function(e,t,n){var o=(t||e.split("/"),this);n||(n=""),FB.api(e,n,function(e){e&&!e.error&&(o.attributes[t]=e)})},init:function(e){var t=this;this.loadSDK(),window.fbAsyncInit=function(){t.initSDK(e.credentials)}}})});