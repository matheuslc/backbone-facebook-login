!function(e,t){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone"],t):"object"==typeof module&&module.exports?(module.exports=t(require("jquery")),module.exports=t(require("underscore")),module.exports=t(require("backbone"))):(e.$=window.$,e._=window._,e.Backbone=window.Backbone)}(this,function(e,t,o){return o.Model.extend({defaults:{userData:"",loginStatus:""},checkLoginState:function(){var e=this;FB.getLoginStatus(function(t){"connected"===t.status?e.set({loginStatus:"logged",userData:t}):this.set("not_authorized"===t.status?{logged:"not_authorized"}:{logged:"not-logged"})})},loadSDK:function(){!function(e,t,o){var n,i=e.getElementsByTagName(t)[0];e.getElementById(o)||(n=e.createElement(t),n.id=o,n.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(n,i))}(document,"script","facebook-jssdk")},initSDK:function(e){FB.init({appId:e.appId,cookie:e.cookie||!0,xfbml:e.xfbml||!0,version:"v2.2"})},login:function(e){var t=this;FB.login(function(e){t.checkLoginState()},{})},logout:function(){var e=this;FB.logout(function(t){e.set({loginStatus:"not-logged"})})},getUserData:function(e,t,o){var n=(t||e.split("/"),this);o||(o=""),FB.api(e,o,function(e){e&&!e.error&&(n.attributes[t]=e)})},init:function(e){var t=this;this.loadSDK(),window.fbAsyncInit=function(){t.initSDK(e.credentials),t.login(e.scope)}}})});